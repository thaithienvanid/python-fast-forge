# Changelog

This boilerplate is a starting point for your FastAPI project. Once you start using it, maintain your own changelog here following [Keep a Changelog](https://keepachangelog.com/en/1.0.0/) format.

## What's Included in This Boilerplate

This template comes with the following features ready to use:

### Architecture & Patterns
- Clean Architecture with 4 layers (Domain, Application, Infrastructure, Presentation)
- Repository Pattern with Decorator for caching
- Unit of Work Pattern for transaction management
- Dependency Injection with dependency-injector
- Domain-Driven Design principles

### Core Features
- FastAPI with async/await throughout
- PostgreSQL with async SQLAlchemy 2.0
- Redis caching with Zstandard compression
- Temporal for durable workflow orchestration
- UUIDv7 for time-ordered primary keys (50% storage savings)
- Multi-tenancy support with tenant isolation (JWT validation not yet implemented)
- Cursor-based pagination for large datasets

### Security
- API Signature Validation (HMAC-SHA256)
- Security Headers middleware (CSP, HSTS, X-Frame-Options, etc.)
- Rate Limiting with Redis
- Log Sanitization (automatic PII/secret removal)
- Input validation with Pydantic
- Tenant data isolation framework (JWT verification pending)

### Observability
- OpenTelemetry distributed tracing
- Structured logging with structlog
- W3C Trace Context support (traceparent header)
- Correlation ID tracking across services
- Request context middleware

### Testing
- **Comprehensive Testing** → [detailed stats →](docs/reference/testing.md#test-statistics)
- Organized test structure (unit/ and integration/)
- Pytest with async support
- Comprehensive test fixtures

### Developer Experience
- Modern toolchain with Ruff (linting + formatting)
- Pre-commit hooks for code quality
- uv for fast dependency management (preferred over pip)
- Type hints throughout codebase
- Hot reload in development
- Docker Compose for local development
- Comprehensive documentation

### CI/CD
- GitHub Actions workflow
- Parallel test execution
- Security scanning (Bandit + Safety)
- Coverage reporting
- Docker build validation
- Python 3.12, 3.13 & 3.14 support

---

## Important Notes About This Template

### No User Authentication System

**This template does NOT include user authentication features.**

The User model is intentionally simplified and contains only:
- `id` (UUIDv7)
- `email`
- `username`
- `full_name`
- `is_active`
- `tenant_id`
- `created_at`
- `updated_at`

**What's NOT included:**
- No password fields (no `password`, no `hashed_password`)
- No password hashing logic (no bcrypt, no passlib)
- No login/logout endpoints
- No JWT authentication for users
- No session management
- No password reset functionality

If you need authentication, you must implement it yourself.

### Tenant Isolation (X-Tenant-Token) - Not Yet Implemented

**The X-Tenant-Token JWT validation returns HTTP 501 (Not Implemented).**

While the boilerplate includes:
- `X-Tenant-Token` header middleware
- Tenant isolation framework in the codebase
- User model with `tenant_id` field
- Repository patterns that support tenant filtering

**The JWT validation is NOT implemented:**
- Sending `X-Tenant-Token` header returns 501 error
- JWT verification logic must be implemented before use
- Token validation, expiry, and signing are pending
- Multi-tenant data isolation is prepared but not active

This is intentional - JWT validation requires business-specific logic (token structure, claims, issuer, audience, etc.) that you should implement based on your needs.

### Database Migrations with Hash-Based Revisions

Migration files use hash-based revision IDs instead of sequential numbers:
- **Format:** `2024_MM_DD-{hash}_{slug}.py`
- **Example:** `2024_11_07-a1b2c3d4e5f6_initial_user_model.py`
- **Benefits:** Better for distributed development, prevents conflicts
- **Generated by:** `uv run alembic revision --autogenerate -m "description"`

### Package Management with uv

This template uses **uv** (not pip) for dependency management:
- **Install dependencies:** `uv sync --dev`
- **Run commands:** `uv run pytest`, `uv run alembic upgrade head`
- **Why uv?** Faster than pip, better dependency resolution, modern tooling
- **Migration from pip:** All `pip install` commands should be replaced with `uv sync`

---

## Template Usage

When you start your project from this template, document your changes below:

## [Unreleased]

### Added
- (Your new features here)

### Changed
- (Your modifications here)

### Fixed
- (Your bug fixes here)

### Security
- (Your security updates here)

---

**Note:** Remove the "What's Included" and "Important Notes" sections above once you start documenting your own project's changes.
